<div class="container">
    <h1>Escreva sua publicação</h1>
    <form [formGroup]="postForm" (ngSubmit)="submit()" #formDir="ngForm">
        <div class="form-group">
            <label for="title">Título:</label>
            <input type="text" formControlName="title" name="title" required>
        </div>
        <div class="validation-error" *ngIf="title.invalid && formDir.submitted">
            <p *ngIf="title.errors?.['required']">O título é obrigatório</p>
            <p *ngIf="title.errors?.['minlength']">O título deve conter no mínimo 3 caracteres</p>
        </div>

        <div class="form-group">
            <label for="body">Publicação:</label>
            <textarea formControlName="body" name="body" required></textarea>
        </div>
        <div class="validation-error" *ngIf="title.invalid && formDir.submitted">
            <p *ngIf="title.errors?.['required']">O corpo da publicação é obrigatório</p>
            <p *ngIf="title.errors?.['minlength']">O corpo deve conter no mínimo 30 caracteres </p>
        </div>

        <div class="form-group">
            <label for="category">Escolha uma categoria:</label>
            <select formControlName="category" name="category">
                <option *ngFor="let category of categories" value="category.id" required>
                    {{category.name}}
                </option>
            </select>
        </div>

        <div class="form-group">
            <label for="imageUrl">Insira uma url para a capa:</label>
            <input type="text" formControlName="imageUrl" name="imageUrl" required>
        </div>
        <div class="validation-error" *ngIf="imageUrl.invalid && formDir.submitted">
            <p *ngIf="title.errors?.['required']">A imagem é obrigatória</p>
        </div>

        <input type="submit" value="Adicionar publicação">

    </form>
</div>